{"version":3,"file":"mat-file-upload.umd.js","sources":["../../../projects/mat-file-upload/src/lib/mat-file-upload.service.ts","../../../projects/mat-file-upload/src/lib/mat-file-upload.component.ts","../../../projects/mat-file-upload/src/lib/mat-file-upload.module.ts","../../../projects/mat-file-upload/src/public-api.ts","../../../projects/mat-file-upload/src/mat-file-upload.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MatFileUploadService {\r\n\r\n  constructor() { }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'mat-file-upload',\r\n  template: `\r\n    <span class=\"file-input-text\">{{ labelText }}</span>\r\n    <button\r\n      mat-button\r\n      [type]=\"selectFilesButtonType\"\r\n      color=\"primary\"\r\n      class=\"file-input-button\"\r\n      (click)=\"fileInput.click()\"\r\n      [attr.aria-label]=\"selectButtonText\"\r\n    >\r\n      <span>{{ selectButtonText }}</span>\r\n      <input\r\n        #fileInput\r\n        type=\"file\"\r\n        style=\"display: none\"\r\n        [accept]=\"acceptedTypes\"\r\n        [multiple]=\"allowMultipleFiles\"\r\n        (change)=\"filesChanged($event.target.files)\"\r\n      />\r\n    </button>\r\n    <button\r\n      mat-raised-button\r\n      [type]=\"uploadButtonType\"\r\n      color=\"primary\"\r\n      class=\"file-input-button\"\r\n      [disabled]=\"!selectedFiles\"\r\n      (click)=\"uploadFiles()\"\r\n      *ngIf=\"showUploadButton\"\r\n      [attr.aria-label]=\"uploadButtonText\"\r\n    >\r\n      {{ uploadButtonText }}\r\n    </button>\r\n    <span class=\"file-input-text\">{{ selectedFileText }}</span>\r\n    <button\r\n      mat-icon-button\r\n      (click)=\"filesChanged(null)\"\r\n      type=\"button\"\r\n      aria-label=\"Remove Selected File(s)\"\r\n       *ngIf=\"selectedFiles != null && selectedFiles.length > 0\"\r\n    >\r\n        <mat-icon *ngIf=\"!customSvgIcon\">close</mat-icon>\r\n        <mat-icon *ngIf=\"customSvgIcon\" [svgIcon]=\"customSvgIcon\"></mat-icon>\r\n    </button>\r\n  `,\r\n  styles: [\r\n    '.file-input-button { margin-right: 8px !important }',\r\n    '.file-input-text { font-size: 14px !important; margin-right: 8px !important }',\r\n  ],\r\n})\r\nexport class MatFileUploadComponent {\r\n  @Input() labelText = 'Select File(s)';\r\n  @Input() selectButtonText = 'Select File(s)';\r\n  @Input() selectFilesButtonType: 'button' | 'menu' | 'reset' | 'submit' = 'button';\r\n  @Input() uploadButtonText = 'Upload File(s)';\r\n  @Input() uploadButtonType: 'button' | 'menu' | 'reset' | 'submit' = 'button';\r\n  @Input() allowMultipleFiles = false;\r\n  @Input() showUploadButton = true;\r\n  @Input() acceptedTypes = '*.*';\r\n  @Input() customSvgIcon?: string = null;\r\n  @Output() uploadClicked: EventEmitter<FileList> = new EventEmitter<FileList>();\r\n  @Output() selectedFilesChanged: EventEmitter<FileList> = new EventEmitter<FileList>();\r\n\r\n  @ViewChild('fileInput') fileInputRef: ElementRef\r\n  selectedFiles: FileList;\r\n  selectedFileText = '';\r\n\r\n  filesChanged(files?: FileList): void {\r\n    this.selectedFiles = files\r\n    this.selectedFilesChanged.emit(this.selectedFiles)\r\n    if (this.selectedFiles) {\r\n      const numSelectedFiles = this.selectedFiles.length\r\n      this.selectedFileText =\r\n        numSelectedFiles === 1\r\n          ? this.selectedFiles[0].name\r\n          : `${numSelectedFiles} files selected`\r\n    } else {\r\n      this.selectedFileText = ''\r\n      this.resetFileInput()\r\n    }\r\n  }\r\n\r\n  uploadFiles(): void {\r\n    this.uploadClicked.emit(this.selectedFiles)\r\n    this.resetFileInput()\r\n  }\r\n\r\n  resetFileInput(): void {\r\n    this.fileInputRef.nativeElement.value = ''\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common'\r\nimport { NgModule } from '@angular/core'\r\nimport { FormsModule } from '@angular/forms'\r\nimport { MatButtonModule } from '@angular/material/button'\r\nimport { MatIconModule } from '@angular/material/icon'\r\nimport { MatInputModule } from '@angular/material/input'\r\nimport { MatSelectModule } from '@angular/material/select'\r\n\r\nimport { MatFileUploadComponent } from './mat-file-upload.component'\r\n\r\n@NgModule({\r\n  declarations: [MatFileUploadComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    FormsModule,\r\n  ],\r\n  exports: [MatFileUploadComponent],\r\n})\r\nexport class MatFileUploadModule {}\r\n","/*\r\n * Public API Surface of mat-file-upload\r\n */\r\n\r\nexport * from './lib/mat-file-upload.service';\r\nexport * from './lib/mat-file-upload.component';\r\nexport * from './lib/mat-file-upload.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵattribute","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵelement","i0.ɵɵtemplate","EventEmitter","i0.ɵɵtextInterpolate","Component","Input","Output","ViewChild","CommonModule","MatButtonModule","MatIconModule","MatInputModule","MatSelectModule","FormsModule","NgModule"],"mappings":"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"}